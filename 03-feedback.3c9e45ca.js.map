{"mappings":"iiBAAA,IAgCQA,EACAC,EAjCRC,EAAAC,EAAA,SAEMC,EAAc,sBACdC,EAAW,GACXC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,yBAEhCH,EAAKC,KAAKK,iBAAiB,UAI3B,SAAsBC,GACpBA,EAAMC,iBACDT,EAASC,EAAKK,MAAMI,OAAUV,EAASC,EAAKI,SAASK,OAGxDC,QAAQC,IAAIZ,GACZQ,EAAMK,cAAcC,QACpBC,aAAaC,WAAWjB,GACxBC,EAASC,EAAKK,MAAMI,MAAQ,GAC5BV,EAASC,EAAKI,SAASK,MAAQ,IAN/BO,MAAM,sBANVhB,EAAKC,KAAKK,iBAAiB,QAASW,EAAArB,EAAA,EAgBpC,SAAyBsB,GACvBnB,EAASmB,EAAEC,OAAOV,MAAQS,EAAEC,OAAOC,MACnCN,aAAaO,QAAQvB,EAAawB,KAAKC,UAAUxB,MAlBW,MAsBtDL,EAAYoB,aAAaU,QAAQ1B,GACjCH,EAAa2B,KAAKG,MAAM/B,GAC1BA,IACEC,EAAW+B,QACb1B,EAAKK,MAAMe,MAAQzB,EAAW+B,MAC9B3B,EAASC,EAAKK,MAAMI,MAAQd,EAAW+B,OAErC/B,EAAWgC,UACb3B,EAAKI,SAASgB,MAAQzB,EAAWgC,QACjC5B,EAASC,EAAKI,SAASK,MAAQd,EAAWgC","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst formData = {};\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('.feedback-form input'),\n};\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onFormDataInput, 1000));\npopulateFormData();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (!formData[refs.input.name] || !formData[refs.textarea.name]) {\n    alert('Заповніть форму');\n  } else {\n    console.log(formData);\n    event.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    formData[refs.input.name] = '';\n    formData[refs.textarea.name] = '';\n  }\n}\n\nfunction onFormDataInput(e) {\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateFormData() {\n  const savedData = localStorage.getItem(STORAGE_KEY);\n  const parsedData = JSON.parse(savedData);\n  if (savedData) {\n    if (parsedData.email) {\n      refs.input.value = parsedData.email;\n      formData[refs.input.name] = parsedData.email;\n    }\n    if (parsedData.message) {\n      refs.textarea.value = parsedData.message;\n      formData[refs.textarea.name] = parsedData.message;\n    }\n  }\n}\n"],"names":["savedData","parsedData","$dCfNN","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$refs","form","document","querySelector","textarea","input","addEventListener","event","preventDefault","name","console","log","currentTarget","reset","localStorage","removeItem","alert","$parcel$interopDefault","e","target","value","setItem","JSON","stringify","getItem","parse","email","message"],"version":3,"file":"03-feedback.3c9e45ca.js.map"}